function get(e){if(!e)throw new TypeError;var t;return t="object"==typeof e?e:e.slice(0,1),"."===t?document.getElementsByClassName(e.slice(1,e.length)):"#"===t?document.getElementById(e.slice(1,e.length)):"object"==typeof t?e:void 0}function log(){console.log(arguments)}function css(e,t){if(!e&&!t)throw new TypeError;for(var n in t)e.style[n]=t[n];return e}function isArray(e){return!!(e&&e.length&&e.length>=0&&isFinite(e.length)&&e.length<=Math.pow(2,32))}function typeAndValue(e){if(null==e)return"";switch(e.constructor){case Number:return"Number: "+e;case String:return"String: '"+e+"'";case Date:return"Date: "+e;case Boolean:return"Boolean: "+e;case RegExp:return"RegExp: "+e;case List:return"List: "+e}}function type(e){var t,n,o;return null===e?"null":e!==e?"nan":"object"!=(n=typeof e)?n:"Object"!==(t=classOf(e))?t:(o=e.constructor.getName())?o:"Object"}function classOf(e){return Object.prototype.toString.call(e).slice(8,-1)}function quacks(e){for(var t=1;t<=arguments.length-1;t++){var n=arguments[t];switch(typeof n){case"string":if("function"!==e[n])return!1;continue;case"function":n=n.prototype;case"object":for(var o in n)if("function"==typeof n[o]&&"function"!=typeof e[o])return!1}}return!0}function xhr(){if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){throw new Error("XMLHttpRequest doesn't support")}}}function parseToArr(e){if("string"!=typeof e)throw new TypeError("Incoming parameter is not an object. It is "+typeof e);var t=[];for(i=0;i<e.length-1;i++)" "!==e[i]&&"number"==typeof parseInt(e[i])&&t.push(!!parseInt(e[i]));return t}function parseLogic(e){if(!e)throw new TypeError("Incoming parameter is not an object. It is "+typeof e);for(var t,n,o={},r=0;r<e.length;r++){var i=e[r];t=i.slice(0,i.indexOf("-")-1),n=i.slice(i.indexOf("-")+2),o[r]={},o[r].name=t,o[r].value=n}return o}function count(e){return void 0==e?e=0:e,function(){return e++}}function setCookies(e,t,n){var o=e+"="+encodeURIComponent(t);"number"==typeof n&&(o+="; max-age="+60*n*60*24),document.cookie=o}function getCookies(){var e={},t=document.cookie;if(""===t)return e;for(var n=t.split("; "),o=0;o<=n.length-1;o++){var r=n[o],i=r.indexOf("="),s=r.slice(0,i),a=r.slice(i+1);a=decodeURIComponent(a),e[s]=a}return e}function deleteCookies(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT"}function toHTMLView(e,t){if("object"!=typeof e)throw new TypeError("Incoming parameter doesn't have 'object' type");var n=get(".ready-algorithm")[0];n.getChildren().getChildren();layoutClass=n.className.slice(0,n.className.lastIndexOf("-")+1)+t,n.className=layoutClass,console.log(n)}Object.defineProperties(Object.prototype,{replaceText:{value:function(e,t){var n="There are no any text.";if(!e)throw new TypeError(n);if(n="It is not an object","string"!=typeof e)throw new TypeError(n);return this.removeChild(this.childNodes[0]),this.appendChild(document.createTextNode(e)),this},writable:!0,enumerable:!1,configurable:!0},getText:{value:function(){var e="Apply this method to object.";if("object"!=typeof this)throw new TypeError(e);return this.childNodes[0].nodeValue},writable:!0,enumerable:!1,configurable:!0}}),HTMLElement.prototype.getChildren=function(){var e,t=[];if("Array"===classOf(this))this.forEach(function(n,o,r){if(n.children.length){e=n.children;for(var o in e)e.hasOwnProperty(o)&&t.push(e[o])}});else if("HTMLElement"===classOf(this)&&this.children.length){e=this.children;for(var n in e)console.log(e.hasOwnProperty(n)),e.hasOwnProperty(n)&&t.push(e[n])}return t},Array.prototype.getChildren=HTMLElement.prototype.getChildren,Function.prototype.getName=function(){return"name"in this?this.name:this.name=this.toString().match(/function\s*([^(]*)\(/)[1]},function(){var e=get("#container"),t=e.clientHeight;if(screen.availHeight){var n=(screen.availHeight-t)/6;css(e,{marginTop:n+"px"})}}(),function(){function e(e){if("object"!=typeof e)throw new TypeError("Incoming arguments is not an object");for(var t in e)"string"!=typeof e[t]?this[t]=e[t]:this[t]=get(e[t])}e.prototype.active=function(){function e(e,n,o){e.onclick=function(){var e=(t.list.length,get("#active-algorithm"));e.id="",this.id="active-algorithm"}}if(this.list){var t=this;this.list instanceof Array?this.list.forEach(e):Array.prototype.forEach.call(this.list,e)}},e.prototype.toServer=function(e){function t(e){var t=new FormData(e),n=xhr();return n.open("POST",e.action,!0),n.onload=function(e){4===this.readyState&&200===this.status&&setTimeout(function(){alert("All files have been downloaded")},o.transitions+o.timeOffset)},n.send(t),!1}var n=get("#upload-form"),o=this;t(n)},e.prototype.file=function(){var e=this;this.button.onchange=function(){e.file=this.files[0],e.toServer();var t=[];Array.prototype.forEach.call(this.files,function(e,n,o){t.push(e.name)});var n=e.fileName[0];css(n,{opacity:0}),setTimeout(function(){t=t.length>=2?" Алгоритмы были загружены":"Алгоритм "+t[0]+" был загружен",n.replaceText(t,!0),css(n,{opacity:1,border:"1px solid transparent"}),n.className=n.className+" chose"},e.transitions)}};var t=new e({section:"#loading-scripts",list:".ready-algorithm",button:"#upload-file",fileName:".file-name",transitions:300,timeOffset:100});t.active(),t.file()}(),function(){var e,t=get(document),n=Date.now();t.addEventListener("DOMContentLoaded",function(){e=Date.now(),n=(e-n)/6e4,console.log(n);var t=xhr(),o=new FormData;get(".ready-algorithm"),Array.prototype.forEach;return o.append("load","true"),t.open("POST","/search",!0),t.onload=function(e){if(4===this.readyState&&200===this.status&&this.responseText){var t=JSON.parse(this.responseText),n=encodeURIComponent(t);n!==getCookies().answer&&(deleteCookies(),setCookies("answer",t,1));var o=getCookies();log(o)}},t.send(o),!1}),console.log(getCookies())}(),function(){function e(e){if("object"!=typeof e)throw new TypeError("Incoming parameter is not an object");for(var t in e){var n=e[t];this[t]={};for(var o in n)"string"==typeof n[o]?this[t][o]=get(n[o])[0]:this[t][o]=n[o]}}e.prototype.defineSegments=function(e){var t=e.getBoundingClientRect();return e.segments={start:t.left,end:t.right,width:t.right-t.left},this},e.prototype.breaks=function(e){var t=e.segments;t.each=t.width/this.options.divisions,t.coords=new Array(this.options.divisions),t.coords[this.options.divisions]=t.end;for(var n=this.options.divisions-1;n>=0;n--)t.coords[n]=Math.round(t.coords[n+1]-t.each);return delete t.coords[t.coords.length-1],this},e.prototype.resize=function(){window.onresize=function(){t.defineSegments(t.dom.line),t.breaks(t.dom.line);var e=parseInt(t.dom.amount.getText());t.dom.tongle.style.left=t.dom.line.segments.coords[e-1]-t.dom.line.segments.start+"px"}},e.prototype.action=function(){var e=this;this.dom.tongle.onmousedown=function(t){function n(t){var n=e.dom.line.segments;e.dom.tongle.style.cursor="pointer",t.clientX>=n.start&&t.clientX<=n.end&&(e.dom.tongle.style.left=t.clientX-n.start-e.dom.tongle.offsetWidth/2+"px")}function o(t){var n=e.dom.tongle.segments;e.defineSegments(e.dom.tongle),e.breaks(e.dom.line),e.dom.line.segments.coords.forEach(function(t,o,r){n.start<=t&&n.start>=t-10&&e.dom.amount.replaceText((o+1).toString())})}n(t),document.onmousemove=function(e){n(e),o(e)},document.onmouseup=function(){document.onmousemove=null,e.dom.tongle.onmouseup=null},e.dom.tongle.ondragstart=function(){return!1}}},e.prototype.create=function(){this.defineSegments(this.dom.line),this.defineSegments(this.dom.tongle),this.breaks(this.dom.line),this.resize(),this.action()};var t=new e({dom:{slider:".planes-slider",line:".planes-toddler-line",tongle:".planes-toddle",amount:".planes-amount"},options:{divisions:20}});t.create();var n=new e({dom:{slider:".dotes-slider",line:".dotes-toddler-line",tongle:".dotes-toddle",amount:".dotes-amount"},options:{divisions:10}});n.create();var o=new e({dom:{slider:".area-slider",line:".area-toddler-line",tongle:".area-toddle",amount:".area-amount"},options:{divisions:10}});o.create();var r=new e({dom:{slider:".trajectory-slider",line:".trajectory-toddler-line",tongle:".trajectory-toddle",amount:".trajectory-amount"},options:{divisions:10}});r.create()}(),function(){function e(){t=new ymaps.Map("dynamic-map",{center:[55.76,37.64],zoom:10,controls:[]})}var t;ymaps.ready(e)}();